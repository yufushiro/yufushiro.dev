---
import { Temporal } from "temporal-polyfill";
import { LOCAL_TIMEZONE } from "../consts";

interface Props {
  date: Temporal.Instant;
  withTime?: boolean;
}

const { date, withTime } = Astro.props;

const localDateTime = date.toZonedDateTimeISO(LOCAL_TIMEZONE);
const dateString = withTime
  ? localDateTime.toString({ timeZoneName: "never" })
  : localDateTime.toPlainDate().toString();
---

<time datetime={dateString}>{dateString}</time>
