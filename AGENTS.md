# yufushiro.dev

## プロジェクト概要

これは `yufushiro.dev` のドメイン名で公開される静的な Web サイトに使用するプロジェクトです。
静的サイトの構築には Astro と TypeScript を使用しています。
すべてのコンテンツはビルド時に静的なファイルにレンダリングを行い、サーバーサイドレンダリングは併用していません。

## デプロイ

デプロイは Cloudflare Pages によって自動化されており、GitHub 上のリポジトリに main ブランチを push した際に自動でデプロイが行われます。
また、トピックブランチを push した際には Preview 環境の構築も自動で行われます。

## ブログ記事の作成・更新

- ブログ記事は `src/contents/articles/**.{md,mdx}` に作成します
- ファイル名には記事公開日と記事タイトルを組み合わせた `20250811_first-post.md` のような形式とします

## 日付とタイムゾーン

- Date クラスは極力使用せず、なるべく Temporal API を使用します
  - ただし、Temporal API をサポートしないプラットフォームに対応するため `temporal-polyfill` を経由しています
- タイムゾーンは基本的に Asia/Tokyo を使用し、UTC が必要な場合も Asia/Tokyo からタイムゾーンを変換します

## Markdown および MDX の設定

- `@astrojs/mdx` が有効化されています
- Shiki による構文ハイライトが有効化されています
- Mermaid 構文による作図が可能です。そのために Shiki のハイライトから `mermaid` を除外しています
  - 記事中で Mermaid 構文を使用する場合は `<MermaidClient />` を含める必要があります
- Markdown ファイルの先頭には `---` で囲われたメタデータを記述します
  - メタデータのスキーマは `src/content.config.ts` で定義されています
  - `updatedDate` は記事公開後に内容の変更を加えた場合に追加・更新します。見た目の変更や誤字修正など軽微な変更には使用しません
- 公開時の URL の形式は、例えば `src/contents/articles/20260101_foo.md` であれば `https://yufushiro.dev/articles/20260101_foo` のようになります
  - 末尾に `/` や `.html` は含まれません

## TypeScript

- ECMAScript コードを記述する場面では TypeScript による型チェックを極力使用します
- もし使用するツールの都合によって TypeScript の構文が直接使用できない場合であっても `// @ts-check` コメントで代用してください

## 記事作成ガイドライン

### 説明リスト

箇条書きを使用して 1 項目の中に太字の見出しとその説明を混在させることは避けてください。

悪い例:

```md
- **タイトル**: 前橋ウィッチーズ
- **読み**: まえばしうぃっちーず
- **公開日**: 2025年春
```

良い例1 (Markdown 内で `<dl>` 要素を使用):

```md
<dl>
<dt>タイトル</dt>
<dd>前橋ウィッチーズ</dd>
<dt>読み</dt>
<dd>まえばしうぃっちーず</dd>
<dt>公開日</dt>
<dd>2025年春</dd>
</dl>
```

良い例2 (箇条書きの入れ子を使用):

```md
- タイトル
  - 前橋ウィッチーズ
- 読み
  - まえばしうぃっちーず
- 公開日
  - 2025年春
```

### HTTP Semantics への適合

記事内で使用する HTTP プロトコルに関する用語について、最新の HTTP Semantics の語彙に合わせるようにして下さい。

修正例:

- レスポンスボディ → レスポンス本文
- Authorization ヘッダー → Authorization フィールド
